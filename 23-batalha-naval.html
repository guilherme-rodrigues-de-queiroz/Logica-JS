<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batalha Naval</title>
</head>

<body>
    <script>
        var parte1 = Math.random() * 3;
        var parte2 = 4;
        var parte3 = 5;

        var jogada;
        var atingidas = 0;
        var totalJogadas = 0;

        var foiAfundado = false;

        while (foiAfundado == false) {
            jogada = prompt("Podes jogar - Escolhe um numero entre 1 e 7:");
            if (jogada < 1 || jogada > 7) {
                alert("Jogada inv√°lida. Tenta de novo!");
            } else {
                totalJogadas = totalJogadas + 1;
                if (jogada == parte1 || jogada == parte2 || jogada == parte3) {
                    alert("Acertaste em mais uma parte!");
                    atingidas = atingidas + 1;
                    if (atingidas == 3) {
                        foiAfundado = true;
                        alert("Navio totalmente afundado!");
                    }
                } else {
                    alert("Falhaste...");
                }
            }
        }

        var estatistica = $`Foi preciso um total de ${totalJogadas} jogadas para afundar o navio, o que quer dizer que a sua pontaria foi de ${(3 / totalJogadas)}`;

        alert(estatistica);
    </script>
</body>

</html>